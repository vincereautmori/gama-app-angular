"use strict";(self.webpackChunkgama_app=self.webpackChunkgama_app||[]).push([[191],{5191:(B,T,a)=>{a.r(T),a.d(T,{CopModule:()=>h});var t=a(4650),u=a(6895),r=a(221),C=a(2216),s=a(4006),U=a(9627),x=a(769),N=a(247),l=a(1489),b=a(6760),q=a(4093),y=a(529),A=a(7185);class d extends q.s{constructor(e,o){super(e,o)}getPath(){return"cop"}getRole(){return"Cop"}}d.\u0275fac=function(e){return new(e||d)(t.LFG(y.eN),t.LFG(A._W))},d.\u0275prov=t.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"});var F=a(7533);const I=["form"];function S(n,e){1&n&&(t.TgZ(0,"div",11)(1,"label",24),t._uU(2,"Id"),t.qZA(),t._UZ(3,"input",25),t.qZA())}class g{constructor(e,o,i,c,p){this.fb=e,this.copService=o,this.router=i,this.route=c,this.toastr=p,this.editForm=this.fb.group({id:[{value:null,disabled:!0}],username:["",[s.kI.required,s.kI.maxLength(100)]],firstName:["",[s.kI.required,s.kI.maxLength(100)]],lastName:[""],documentNumber:[""],password:[""],email:[""]}),this.cop=this.route.snapshot.data.cop}ngOnInit(){this.cop=this.route.snapshot.data.cop,this.cop&&(this.editForm.get(["id"])?.setValue(this.cop.id),this.editForm.get(["username"])?.setValue(this.cop.username),this.editForm.get(["firstName"])?.setValue(this.cop.firstName),this.editForm.get(["lastName"])?.setValue(this.cop.lastName),this.editForm.get(["documentNumber"])?.setValue(this.cop.documentNumber),this.editForm.get(["password"])?.setValue(this.cop.password),this.editForm.get(["email"])?.setValue(this.cop.email),this.editForm.get(["email"])?.disable(),this.editForm.get(["username"])?.disable(),this.editForm.get(["password"])?.disable())}create(){const e={...this.editForm.value};e&&this.cop?.id?this.copService.update(this.cop.id,e).subscribe(o=>{this.router.navigate(["cops"])},()=>{this.toastr.error("Dados invalidos para cadastro","Erro de valida\xe7\xe3o")}):this.copService.create(e).subscribe(o=>{this.router.navigate(["cops"])},()=>{this.toastr.error("Dados invalidos para cadastro","Erro de valida\xe7\xe3o")})}cancel(){this.router.navigate(["/cops"])}}g.\u0275fac=function(e){return new(e||g)(t.Y36(s.qu),t.Y36(d),t.Y36(l.F0),t.Y36(l.gz),t.Y36(A._W))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-cop-update"]],viewQuery:function(e,o){if(1&e&&t.Gf(I,5),2&e){let i;t.iGM(i=t.CRH())&&(o.form=i.first)}},decls:39,vars:3,consts:[[1,"component-header"],[1,"container"],["name","editForm","role","form","novalidate","",1,"mt-2",3,"formGroup","ngSubmit"],["form","ngForm"],[1,"form-group","mt-4","col-6"],["type","button",1,"btn","btn-danger",3,"click"],["icon","close"],["type","submit",1,"btn","btn-primary"],["icon","plus"],[1,"row"],["class","form-group col-6",4,"ngIf"],[1,"form-group","col-6"],["for","username"],["formControlName","username","type","text","id","username",1,"form-control"],["for","email"],["formControlName","email","type","email","id","email",1,"form-control"],["for","firstName"],["formControlName","firstName","type","text","id","firstName",1,"form-control"],["for","lastName"],["formControlName","lastName","type","text","id","lastName",1,"form-control"],["for","password"],["formControlName","password","type","password","id","password",1,"form-control"],["for","documentNumber"],["formControlName","documentNumber","type","text","id","documentNumber",1,"form-control",3,"mask"],["for","id"],["formControlName","id","type","text","id","id",1,"form-control"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Cadastrar policial"),t.qZA()(),t.TgZ(3,"div",1)(4,"form",2,3),t.NdJ("ngSubmit",function(){return o.create()}),t.TgZ(6,"div",4)(7,"button",5),t.NdJ("click",function(){return o.cancel()}),t._UZ(8,"fa-icon",6),t._uU(9,"\xa0 Cancelar"),t.qZA(),t.TgZ(10,"button",7),t._UZ(11,"fa-icon",8),t._uU(12,"\xa0 Adicionar"),t.qZA()(),t.TgZ(13,"div",9),t.YNc(14,S,4,0,"div",10),t.TgZ(15,"div",11)(16,"label",12),t._uU(17,"Usu\xe1rio"),t.qZA(),t._UZ(18,"input",13),t.qZA(),t.TgZ(19,"div",11)(20,"label",14),t._uU(21,"E-mail"),t.qZA(),t._UZ(22,"input",15),t.qZA(),t.TgZ(23,"div",11)(24,"label",16),t._uU(25,"Nome"),t.qZA(),t._UZ(26,"input",17),t.qZA(),t.TgZ(27,"div",11)(28,"label",18),t._uU(29,"Sobrenome"),t.qZA(),t._UZ(30,"input",19),t.qZA(),t.TgZ(31,"div",11)(32,"label",20),t._uU(33,"Senha"),t.qZA(),t._UZ(34,"input",21),t.qZA(),t.TgZ(35,"div",11)(36,"label",22),t._uU(37,"CPF"),t.qZA(),t._UZ(38,"input",23),t.qZA()()()()),2&e&&(t.xp6(4),t.Q6J("formGroup",o.editForm),t.xp6(10),t.Q6J("ngIf",null==o.cop?null:o.cop.id),t.xp6(24),t.Q6J("mask","000.000.000-00"))},dependencies:[u.O5,F.Z6,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,C.BN],styles:[".success[_ngcontent-%COMP%]{color:green}.danger[_ngcontent-%COMP%]{color:red}"]});const J=["form"];function M(n,e){1&n&&(t._UZ(0,"fa-icon",13),t._uU(1," \xa0 "),t.TgZ(2,"span"),t._uU(3,"Detalhes do policial"),t.qZA()),2&n&&t.Q6J("fixedWidth",!0)}function Y(n,e){if(1&n&&(t.TgZ(0,"div",5)(1,"dl",7)(2,"dt")(3,"span"),t._uU(4,"Id"),t.qZA()(),t.TgZ(5,"dd"),t._uU(6),t.qZA(),t.TgZ(7,"dt")(8,"span"),t._uU(9,"Usu\xe1rio"),t.qZA()(),t.TgZ(10,"dd"),t._uU(11),t.qZA(),t.TgZ(12,"dt")(13,"span"),t._uU(14,"E-mail"),t.qZA()(),t.TgZ(15,"dd"),t._uU(16),t.qZA(),t.TgZ(17,"dt")(18,"span"),t._uU(19,"Nome"),t.qZA()(),t.TgZ(20,"dd"),t._uU(21),t.qZA(),t.TgZ(22,"dt")(23,"span"),t._uU(24,"Sobrenome"),t.qZA()(),t.TgZ(25,"dd"),t._uU(26),t.qZA(),t.TgZ(27,"dt")(28,"span"),t._uU(29,"CPF"),t.qZA()(),t.TgZ(30,"dd"),t._uU(31),t.qZA()()()),2&n){const o=t.oxw(2);t.xp6(6),t.Oqu(o.cop.id),t.xp6(5),t.Oqu(o.cop.username),t.xp6(5),t.Oqu(o.cop.email),t.xp6(5),t.Oqu(o.cop.firstName),t.xp6(5),t.Oqu(o.cop.lastName),t.xp6(5),t.Oqu(o.cop.documentNumber)}}function w(n,e){1&n&&(t.TgZ(0,"div",7)(1,"div",8)(2,"div",5)(3,"ngb-accordion",9)(4,"ngb-panel",10),t.YNc(5,M,4,1,"ng-template",11),t.YNc(6,Y,32,6,"ng-template",12),t.qZA()()()()())}class _{constructor(e,o,i,c){this.fb=e,this.copService=o,this.router=i,this.route=c,this.cop=this.route.snapshot.data.cop}ngOnInit(){this.cop=this.route.snapshot.data.cop}cancel(){this.router.navigate(["/cops"])}}_.\u0275fac=function(e){return new(e||_)(t.Y36(s.qu),t.Y36(d),t.Y36(l.F0),t.Y36(l.gz))},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-cop-detail"]],viewQuery:function(e,o){if(1&e&&t.Gf(J,5),2&e){let i;t.iGM(i=t.CRH())&&(o.form=i.first)}},decls:10,vars:1,consts:[[1,"component-header"],[1,"container"],[1,"btn-header","mb-4"],[1,"btn-primary","btn",3,"click"],["icon","angle-left"],[1,"row","justify-content-center"],["class","col-12",4,"ngIf"],[1,"col-12"],[1,"card-body"],["activeIds","panelEntity",1,"col-12","entity-details"],["id","panelEntity"],["ngbPanelTitle",""],["ngbPanelContent",""],["icon","list-alt",3,"fixedWidth"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Detalhes do policial"),t.qZA()(),t.TgZ(3,"div",1)(4,"div",2)(5,"button",3),t.NdJ("click",function(){return o.cancel()}),t._UZ(6,"fa-icon",4),t._uU(7,"\xa0 Voltar"),t.qZA()(),t.TgZ(8,"div",5),t.YNc(9,w,7,0,"div",6),t.qZA()()),2&e&&(t.xp6(9),t.Q6J("ngIf",o.cop))},dependencies:[u.O5,r.gY,r.Gk,r.Cu,r.gW,C.BN],styles:[".success[_ngcontent-%COMP%]{color:green}.danger[_ngcontent-%COMP%]{color:red}"]});var O=a(6942);function k(n,e){1&n&&t._UZ(0,"fa-icon",19)}function z(n,e){1&n&&t._UZ(0,"fa-icon",20)}function G(n,e){if(1&n){const o=t.EpF();t.TgZ(0,"tr")(1,"th",10),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.YNc(4,k,1,0,"fa-icon",11),t.YNc(5,z,1,0,"fa-icon",12),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td")(11,"button",13),t.NdJ("click",function(){const p=t.CHM(o).$implicit,v=t.oxw();return t.KtG(v.goToView(p))}),t._UZ(12,"fa-icon",14),t.qZA(),t.TgZ(13,"button",15),t.NdJ("click",function(){const p=t.CHM(o).$implicit,v=t.oxw();return t.KtG(v.goToEdit(p))}),t._UZ(14,"fa-icon",16),t.qZA(),t.TgZ(15,"button",17),t.NdJ("click",function(){const p=t.CHM(o).$implicit,v=t.oxw();return t.KtG(v.confirmDelete(p))}),t._UZ(16,"fa-icon",18),t.qZA()()()}if(2&n){const o=e.$implicit;t.xp6(2),t.Oqu(o.id),t.xp6(2),t.Q6J("ngIf",!o.active),t.xp6(1),t.Q6J("ngIf",o.active),t.xp6(2),t.hij(" ",o.firstName," "),t.xp6(2),t.Oqu(o.lastName)}}function Q(n,e){1&n&&(t.TgZ(0,"p")(1,"ngb-alert",21)(2,"strong"),t._uU(3,"N\xe3o h\xe1 dados cadastrados"),t.qZA()()()),2&n&&(t.xp6(1),t.Q6J("dismissible",!1))}function E(n,e){1&n&&t._UZ(0,"span",26)}const P=function(n){return{"with-pagination":n}};function D(n,e){if(1&n){const o=t.EpF();t.TgZ(0,"div",22)(1,"div",23),t.YNc(2,E,1,0,"span",24),t.TgZ(3,"div"),t._uU(4),t.qZA(),t.TgZ(5,"ngb-pagination",25),t.NdJ("pageChange",function(c){t.CHM(o);const p=t.oxw();return t.KtG(p.page=c)})("pageChange",function(){t.CHM(o);const c=t.oxw();return t.KtG(c.loadPage(c.page))}),t.qZA()()()}if(2&n){const o=t.oxw();t.Q6J("ngClass",t.VKq(10,P,o.cops)),t.xp6(2),t.Q6J("ngIf",!o.cops.length),t.xp6(2),t.AsE(" Mostrando ",o.cops.length," de ",o.totalItems," "),t.xp6(1),t.Q6J("collectionSize",o.totalItems)("page",o.page)("pageSize",o.pageSize)("maxSize",5)("rotate",!0)("boundaryLinks",!0)}}class Z{constructor(e,o,i){this.router=e,this.copService=o,this.genericModalService=i,this.page=1,this.totalItems=1,this.pageSize=10,this.cops=[]}confirmDelete(e){this.genericModalService.show("Remover policial","Tem certeza que deseja desativar o policial?",()=>{this.delete(e)})}new(){this.router.navigate(["cops/new"])}goToEdit(e){this.router.navigate(["cops",e.id,"edit"])}goToView(e){this.router.navigate(["cops",e.id,"view"])}ngOnInit(){this.loadAll()}loadAll(){this.copService.getAll({page:this.page}).subscribe(e=>{this.cops=e?.results||[],this.page=e?.pageNumber||0,this.totalItems=e?.count||0,this.pageSize=e?.size||0})}delete(e){this.copService.delete(e.id).subscribe(o=>{this.loadAll()})}previousPage(){this.page--,this.loadAll()}nextPage(){this.page++,this.loadAll()}loadPage(e){this.page=e,this.loadAll()}}Z.\u0275fac=function(e){return new(e||Z)(t.Y36(l.F0),t.Y36(d),t.Y36(O.v))},Z.\u0275cmp=t.Xpm({type:Z,selectors:[["app-cop"]],decls:25,vars:3,consts:[[1,"component-header"],[1,"container"],[1,"btn-header","mb-4"],[1,"btn-primary","btn",3,"click"],["icon","plus"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","card-header",3,"ngClass",4,"ngIf"],["scope","row"],["class","danger","icon","close",4,"ngIf"],["class","success","icon","check",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["icon","eye"],["type","button",1,"btn","btn-success",3,"click"],["icon","edit"],["type","button",1,"btn","btn-danger",3,"click"],["icon","trash-alt"],["icon","close",1,"danger"],["icon","check",1,"success"],[3,"dismissible"],[1,"card-header",3,"ngClass"],[1,"d-flex","justify-content-between"],["jhiTranslate","global.empty.list.title",4,"ngIf"],["size","sm",3,"collectionSize","page","pageSize","maxSize","rotate","boundaryLinks","pageChange"],["jhiTranslate","global.empty.list.title"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Policiais"),t.qZA()(),t.TgZ(3,"div",1)(4,"div",2)(5,"button",3),t.NdJ("click",function(){return o.new()}),t._UZ(6,"fa-icon",4),t._uU(7,"\xa0 Adicionar "),t.qZA()(),t.TgZ(8,"table",5)(9,"thead")(10,"tr")(11,"th",6),t._uU(12,"#"),t.qZA(),t.TgZ(13,"th",6),t._uU(14,"Ativo"),t.qZA(),t.TgZ(15,"th",6),t._uU(16,"Nome"),t.qZA(),t.TgZ(17,"th",6),t._uU(18,"Sobrenome"),t.qZA(),t.TgZ(19,"th",6),t._uU(20,"A\xe7oes"),t.qZA()()(),t.TgZ(21,"tbody"),t.YNc(22,G,17,5,"tr",7),t.qZA()(),t.YNc(23,Q,4,1,"p",8),t.YNc(24,D,6,12,"div",9),t.qZA()),2&e&&(t.xp6(22),t.Q6J("ngForOf",o.cops),t.xp6(1),t.Q6J("ngIf",!(null!=o.cops&&o.cops.length)),t.xp6(1),t.Q6J("ngIf",o.totalItems>0))},dependencies:[u.mk,u.sg,u.O5,r.N9,C.BN,r.xm],styles:[".success[_ngcontent-%COMP%]{color:green}.danger[_ngcontent-%COMP%]{color:red}"]});var V=a(4981);class m{constructor(e,o){this.service=e,this.router=o}resolve(e){return this.service.getById(e.params.id)}}m.\u0275fac=function(e){return new(e||m)(t.LFG(V.K),t.LFG(l.F0))},m.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"});const j=[{path:"",component:Z,pathMatch:"full",canActivate:[b.a]},{path:":id/edit",component:g,resolve:{cop:m},pathMatch:"full",canActivate:[b.a]},{path:":id/view",component:_,resolve:{cop:m},pathMatch:"full",canActivate:[b.a]},{path:"new",component:g,pathMatch:"full",canActivate:[b.a]}];class f{}f.\u0275fac=function(e){return new(e||f)},f.\u0275mod=t.oAB({type:f}),f.\u0275inj=t.cJS({imports:[l.Bz.forChild(j),l.Bz]}),(0,u.qS)(U.Z);class h{}h.\u0275fac=function(e){return new(e||h)},h.\u0275mod=t.oAB({type:h}),h.\u0275inj=t.cJS({providers:[{provide:t.soG,useValue:"pt-BR"}],imports:[u.ez,r.jF,r.Gs,s.UX,f,r.M,C.uH,x.zh,N.A0,r.IJ]})}}]);